<h2>Gerenciamento de Usuários</h2>

<!-- Formulário para adicionar novo usuário -->
<form (ngSubmit)="addUser()" #userForm="ngForm">
  <div>
    <label for="name">Nome:</label>
    <input type="text" id="name" [(ngModel)]="newUser.name" name="name" required />
  </div>
  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" [(ngModel)]="newUser.email" name="email" required email />
  </div>
  <div>
    <label for="password">Senha:</label>
    <input type="password" id="password" [(ngModel)]="newUser.password" name="password" required minlength="6" />
  </div>
  <div>
    <label for="role">Função:</label>
    <select id="role" [(ngModel)]="newUser.role" name="role" required>
      <option *ngFor="let role of userRoles" [value]="role">{{ role }}</option>
    </select>
  </div>
  <div>
    <label for="sector">Setor:</label>
    <select id="sector" [(ngModel)]="newUser.sectorId" name="sectorId">
      <option [ngValue]="undefined">Nenhum</option> <!-- Opção para nenhum setor -->
      <option *ngFor="let sector of sectors" [value]="sector.id">{{ sector.name }}</option>
    </select>
  </div>

  <button type="submit" [disabled]="!userForm.form.valid">Adicionar Usuário</button>
</form>

<hr />

<!-- Lista de usuários existentes -->
<h3>Usuários Existentes</h3>
<ul>
  <li *ngFor="let user of users">
    {{ user.name }} ({{ user.email }}) - Função: {{ user.role }} - Setor: {{ user.sector?.name || 'N/A' }}
    <!-- Adicionar botão de deletar se o método deleteUser for implementado -->
    <!-- <button (click)="deleteUser(user.id)">Deletar</button> -->
  </li>
</ul>

<!-- Mensagem se não houver usuários -->
<p *ngIf="users.length === 0">Nenhum usuário cadastrado.</p>

